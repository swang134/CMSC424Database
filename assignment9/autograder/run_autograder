#!/usr/bin/env bash

cp /autograder/submission/transactions.py /autograder/source/transactions.py

cp /autograder/source/results.json /autograder/results/

cd /autograder/source

for x in test-ixlock test-deadlocks-1 test-deadlocks-2 test-deadlocks-3 test-deadlocks-4 test-deadlocks-5 test-deadlocks-6 test-deadlocks-7 test-deadlocks-8 test-woundwait
do
    echo "======================================================================================================================="
    echo "======================================================================================================================="
    echo "============================== " $x " ============================================================================"
    echo "======================================================================================================================="
    echo "======================================================================================================================="
    /bin/rm -f relation1 logfile
    python3 run_tests.py $x relation1 logfile
    sleep 1
done

#for x in 1 2 3 4 5 6 7 8
#do
#    echo "======================================================================================================================="
#    echo "======================================================================================================================="
#    echo "============================== test-recovery-" $x " ==================================================================="
#    echo "======================================================================================================================="
#    echo "======================================================================================================================="
#    python3 run_tests.py test-recovery $x
#    sleep 1
#done

